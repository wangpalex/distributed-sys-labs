000239 PERS S0 Follower@T0: restored persistent states and snapshot
000302 LOG1 S0 start running
000354 PERS S1 Follower@T0: restored persistent states and snapshot
000411 LOG1 S1 start running
000417 PERS S2 Follower@T0: restored persistent states and snapshot
000423 LOG1 S2 start running
Test (2B): test failure of leaders ...
001017 TIMR S0 Follower@T0: election timer fires
001017 LOG1 S0 Follower@T0: convert to Candidate
001017 VOTE S0 Candidate@T1: start election for term 1
001021 LOG1 S2 Follower@T0: received RequestVote RPC {Term:1 CandidateId:0 LastLogIndex:0 LastLogTerm:0}
001022 PERS S2 Follower@T1: persisted states and snapshot
001023 PERS S2 Follower@T1: persisted states and snapshot
001023 VOTE S2 Follower@T1: grant vote for candidate 0
001025 VOTE S0 Candidate@T1: convert to Leader
001025 LEAD S0 Leader@T1: sending AppendEntries RPC to peer 2
001029 LOG1 S2 Follower@T1: received AppendEntries RPC from S0 Leader@T1
001031 CLNT S0 Leader@T1: receive command 101, index=1
001031 PERS S0 Leader@T1: persisted states and snapshot
001032 TIMR S2 Follower@T1: election timer fires
001032 LOG1 S2 Follower@T1: convert to Candidate
001033 VOTE S2 Candidate@T2: start election for term 2
001036 LOG1 S1 Follower@T0: received RequestVote RPC {Term:2 CandidateId:2 LastLogIndex:0 LastLogTerm:0}
001037 PERS S1 Follower@T2: persisted states and snapshot
001038 PERS S1 Follower@T2: persisted states and snapshot
001038 VOTE S1 Follower@T2: grant vote for candidate 2
001040 VOTE S2 Candidate@T2: convert to Leader
001041 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
001044 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
001056 LOG1 S1 Follower@T2: received RequestVote RPC {Term:1 CandidateId:0 LastLogIndex:0 LastLogTerm:0}
001056 VOTE S1 Follower@T2: reject vote for candidate 0. Reason: my term higher.
001059 LOG1 S0 Leader@T2: convert to Follower
001059 PERS S0 Follower@T2: persisted states and snapshot
001063 LOG1 S0 Follower@T2: received RequestVote RPC {Term:2 CandidateId:2 LastLogIndex:0 LastLogTerm:0}
001063 VOTE S0 Follower@T2: reject vote for candidate 2. Reason: already voted or candidate log not up-to-date.
001063 VOTE S0 Follower@T2: candidate last log entry={idx=0,term=0}, my last log entry={idx=1,term=1}
001065 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
001067 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
001543 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
001548 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
001629 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
001633 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
002051 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
002054 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
002136 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
002139 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
002565 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
002568 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
002638 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
002640 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
003067 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
003070 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
003217 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
003220 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
003579 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
003581 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
003745 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
003747 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
004089 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
004092 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
004255 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
004257 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
004600 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
004602 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
004756 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
004759 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
005107 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
005110 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
005267 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
005271 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
005611 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
005614 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
005768 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
005771 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
006119 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
006121 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
006275 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
006278 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
006620 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
006622 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
006777 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
006780 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
007125 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
007127 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
007279 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
007282 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
007696 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
007699 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
007800 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
007803 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
008207 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
008210 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
008305 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
008308 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
008771 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
008773 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
008907 TIMR S2 Leader@T2: election timer fires
008908 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
008910 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
009281 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
009284 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
009411 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
009413 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
009789 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
009791 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
009914 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
009917 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
010299 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
010302 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
010421 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
010424 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
010808 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
010811 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
010942 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
010945 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
011310 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
011312 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
011449 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
011451 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
011815 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
011817 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
011951 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
011954 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
012329 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
012332 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
012451 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
012454 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
012834 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
012837 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
012961 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
012964 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
013339 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
013342 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
013476 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
013478 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
013847 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
013850 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
013978 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
013981 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
014349 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
014351 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
014488 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
014491 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
014864 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
014867 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
014992 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
014995 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
015366 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
015368 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
015495 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
015497 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
015869 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
015872 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
015899 TIMR S2 Leader@T2: election timer fires
016001 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
016004 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
016422 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
016424 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
016532 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
016534 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
016927 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
017151 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
017371 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
017371 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
017433 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
017436 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
017655 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
017657 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
017943 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
017946 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
018380 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
018382 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
018469 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
018472 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
018894 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
018897 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
018977 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
018980 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
019400 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
019402 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
019485 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
019488 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
019901 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
019903 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
019985 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
019988 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
020408 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
020411 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
020553 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
020555 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
020914 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
020917 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
021061 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
021064 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
--- FAIL: TestLeaderFailure2B (2.10s)
    config.go:594: one(101) failed to reach agreement
FAIL
exit status 1
FAIL	6.5840/raft	2.182s
