000162 PERS S0 Follower@T0: restored persistent states and snapshot
000166 PERS S1 Follower@T0: restored persistent states and snapshot
000166 PERS S2 Follower@T0: restored persistent states and snapshot
Test (2B): test progressive failure of followers ...
000167 LOG1 S1 start running
000168 LOG1 S2 start running
000167 LOG1 S0 start running
000639 TIMR S2 Follower@T0: election timer fires
000640 LOG1 S2 Follower@T0: convert to Candidate
000641 VOTE S2 Candidate@T1: start election for term 1
000645 LOG1 S1 Follower@T0: received RequestVote RPC {Term:1 CandidateId:2 LastLogIndex:0 LastLogTerm:0}
000645 PERS S1 Follower@T1: persisted states and snapshot
000646 PERS S1 Follower@T1: persisted states and snapshot
000646 VOTE S1 Follower@T1: grant vote for candidate 2
000648 VOTE S2 Candidate@T1: convert to Leader
000648 LEAD S2 Leader@T1: sending AppendEntries RPC to peer 1
000650 LOG1 S1 Follower@T1: received AppendEntries RPC from S2 Leader@T1
000652 LOG1 S0 Follower@T0: received RequestVote RPC {Term:1 CandidateId:2 LastLogIndex:0 LastLogTerm:0}
000652 PERS S0 Follower@T1: persisted states and snapshot
000652 PERS S0 Follower@T1: persisted states and snapshot
000653 VOTE S0 Follower@T1: grant vote for candidate 2
000654 LEAD S2 Leader@T1: sending AppendEntries RPC to peer 0
000659 LOG1 S0 Follower@T1: received AppendEntries RPC from S2 Leader@T1
000661 TIMR S1 Follower@T1: election timer fires
000662 LOG1 S1 Follower@T1: convert to Candidate
000663 VOTE S1 Candidate@T2: start election for term 2
000667 LOG1 S0 Follower@T1: received RequestVote RPC {Term:2 CandidateId:1 LastLogIndex:0 LastLogTerm:0}
000667 PERS S0 Follower@T2: persisted states and snapshot
000668 PERS S0 Follower@T2: persisted states and snapshot
000668 VOTE S0 Follower@T2: grant vote for candidate 1
000668 CLNT S2 Leader@T1: receive command 101, index=1
000669 PERS S2 Leader@T1: persisted states and snapshot
000670 VOTE S1 Candidate@T2: convert to Leader
000671 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
000671 LOG1 S2 Leader@T1: received RequestVote RPC {Term:2 CandidateId:1 LastLogIndex:0 LastLogTerm:0}
000672 LOG1 S2 Leader@T2: convert to Follower
000672 PERS S2 Follower@T2: persisted states and snapshot
000672 VOTE S2 Follower@T2: reject vote for candidate 1. Reason: already voted or candidate log not up-to-date.
000672 VOTE S2 Follower@T2: candidate last log entry={idx=0,term=0}, my last log entry={idx=1,term=1}
000673 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
000671 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
000676 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
001222 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
001224 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
001227 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
001230 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
001731 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
001734 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
001736 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
001738 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
002238 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
002241 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
002243 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
002245 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
002743 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
002744 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
002746 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
002747 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
003245 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
003248 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
003249 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
003250 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
003803 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
003806 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
003808 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
003810 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
004310 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
004312 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
004314 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
004315 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
004813 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
004816 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
004817 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
004819 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
005350 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
005352 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
005358 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
005361 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
005850 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
005853 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
005885 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
005887 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
006353 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
006356 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
006390 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
006392 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
006855 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
006858 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
006891 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
006894 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
007361 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
008106 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
007393 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
008109 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
007868 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
008111 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
007900 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
008113 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
008215 TIMR S1 Leader@T2: election timer fires
008433 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
008436 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
008541 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
008544 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
008934 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
008937 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
009049 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
009052 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
009437 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
009440 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
009562 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
009564 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
009961 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
009963 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
010069 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
010071 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
010463 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
010466 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
010569 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
010572 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
010967 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
010970 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
011075 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
011077 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
011479 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
011483 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
011576 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
011579 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
011992 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
011994 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
012082 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
012085 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
012496 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
012499 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
012598 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
012601 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
013000 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
013003 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
013117 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
013120 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
013507 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
013510 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
013621 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
013624 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
014012 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
014015 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
014133 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
014135 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
014514 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
014516 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
014652 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
014654 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
015022 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
015024 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
015162 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
015164 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
015535 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
015538 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
015681 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
015683 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
016045 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
016048 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
016181 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
016184 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
016550 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
016553 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
016687 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
016690 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
016813 TIMR S1 Leader@T2: election timer fires
017098 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
017101 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
017196 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
017199 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
017608 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
017611 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
017705 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
017708 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
018124 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
018127 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
018212 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
018215 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
018631 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
018634 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
018744 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
018747 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
019132 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
019136 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
019249 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
019252 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
019636 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
019639 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
019759 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
019762 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
020142 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
020144 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
020385 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
020387 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
020652 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
020654 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
--- FAIL: TestFollowerFailure2B (2.08s)
    config.go:594: one(101) failed to reach agreement
FAIL
exit status 1
FAIL	6.5840/raft	2.241s
