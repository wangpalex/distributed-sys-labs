000081 PERS S0 Follower@T0: restored persistent states and snapshot
000084 PERS S1 Follower@T0: restored persistent states and snapshot
000085 PERS S2 Follower@T0: restored persistent states and snapshot
Test (2B): basic agreement ...
000086 LOG1 S0 start running
000086 LOG1 S1 start running
000086 LOG1 S2 start running
000834 TIMR S2 Follower@T0: election timer fires
000835 LOG1 S2 Follower@T0: convert to Candidate
000835 VOTE S2 Candidate@T1: start election for term 1
000847 LOG1 S1 Follower@T0: received RequestVote RPC {Term:1 CandidateId:2 LastLogIndex:0 LastLogTerm:0}
000847 PERS S1 Follower@T1: persisted states and snapshot
000849 PERS S1 Follower@T1: persisted states and snapshot
000849 VOTE S1 Follower@T1: grant vote for candidate 2
000851 VOTE S2 Candidate@T1: convert to Leader
000852 LEAD S2 Leader@T1: sending AppendEntries RPC to peer 1
000855 LOG1 S1 Follower@T1: received AppendEntries RPC from S2 Leader@T1
000856 CLNT S2 Leader@T1: receive command 100, index=1
000857 PERS S2 Leader@T1: persisted states and snapshot
000857 TIMR S1 Follower@T1: election timer fires
000858 LOG1 S1 Follower@T1: convert to Candidate
000858 VOTE S1 Candidate@T2: start election for term 2
000860 LOG1 S2 Leader@T1: received RequestVote RPC {Term:2 CandidateId:1 LastLogIndex:0 LastLogTerm:0}
000860 LOG1 S2 Leader@T2: convert to Follower
000865 LOG1 S0 Follower@T0: received RequestVote RPC {Term:1 CandidateId:2 LastLogIndex:0 LastLogTerm:0}
000866 PERS S0 Follower@T1: persisted states and snapshot
000866 PERS S0 Follower@T1: persisted states and snapshot
000866 VOTE S0 Follower@T1: grant vote for candidate 2
000868 PERS S2 Follower@T2: persisted states and snapshot
000868 VOTE S2 Follower@T2: reject vote for candidate 1. Reason: already voted or candidate log not up-to-date.
000869 VOTE S2 Follower@T2: candidate last log entry={idx=0,term=0}, my last log entry={idx=1,term=1}
000871 LOG1 S0 Follower@T1: received RequestVote RPC {Term:2 CandidateId:1 LastLogIndex:0 LastLogTerm:0}
000871 PERS S0 Follower@T2: persisted states and snapshot
000871 PERS S0 Follower@T2: persisted states and snapshot
000872 VOTE S0 Follower@T2: grant vote for candidate 1
000873 VOTE S1 Candidate@T2: convert to Leader
000873 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
000875 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
000877 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
000879 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
001383 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
001387 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
001388 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
001390 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
001889 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
001892 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
001893 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
001895 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
002397 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
002400 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
002402 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
002404 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
002899 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
002902 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
002904 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
002905 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
003421 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
003424 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
003425 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
003427 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
003925 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
003928 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
003930 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
003932 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
004429 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
004430 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
004433 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
004435 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
004938 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
004942 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
004944 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
004950 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
005469 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
005472 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
005473 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
005475 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
005974 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
005977 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
005978 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
005980 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
006479 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
006481 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
006483 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
006485 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
006984 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
006988 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
006989 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
006991 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
007488 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
007491 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
007493 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
007494 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
007993 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
007996 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
007998 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
007999 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
008503 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
008506 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
008507 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
008509 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
009006 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
009008 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
009010 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
009012 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
009512 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
009515 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
009516 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
009518 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
010042 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
010045 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
010047 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
010049 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
010552 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
010555 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
010556 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
010558 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
010867 TIMR S1 Leader@T2: election timer fires
011061 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
011064 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
011065 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
011067 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
011568 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
011571 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
011572 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
011574 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
012071 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
012074 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
012075 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
012077 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
012586 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
012589 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
012592 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
012594 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
013096 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
013099 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
013100 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
013102 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
013603 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
013606 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
013608 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
013610 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
014111 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
014115 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
014117 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
014119 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
014619 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
014622 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
014623 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
014625 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
015121 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
015124 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
015126 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
015128 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
015630 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
015633 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
015635 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
015637 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
016136 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
016139 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
016140 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
016142 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
016643 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
016645 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
016647 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
016649 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
017154 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
017157 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
017158 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
017160 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
017655 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
017658 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
017659 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
017660 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
018165 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
018167 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
018169 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
018170 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
018669 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
018670 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
018672 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
018674 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
019175 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
019177 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
019179 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
019180 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
019686 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
019689 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
019690 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
019692 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
020198 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
020200 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
020202 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
020204 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
020531 TIMR S1 Leader@T2: election timer fires
020699 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 0
020702 LOG1 S0 Follower@T2: received AppendEntries RPC from S1 Leader@T2
020704 LEAD S1 Leader@T2: sending AppendEntries RPC to peer 2
020705 LOG1 S2 Follower@T2: received AppendEntries RPC from S1 Leader@T2
--- FAIL: TestBasicAgree2B (2.09s)
    config.go:594: one(100) failed to reach agreement
FAIL
exit status 1
FAIL	6.5840/raft	2.145s
