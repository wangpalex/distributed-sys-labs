000560 PERS S0 Follower@T0: restored persistent states and snapshot
000562 PERS S1 Follower@T0: restored persistent states and snapshot
000563 PERS S2 Follower@T0: restored persistent states and snapshot
Test (2B): test failure of leaders ...
000565 LOG1 S0 start running
000565 LOG1 S1 start running
000565 LOG1 S2 start running
001149 TIMR S0 Follower@T0: election timer fires
001149 LOG1 S0 Follower@T0: convert to Candidate
001149 VOTE S0 Candidate@T1: start election for term 1
001154 LOG1 S2 Follower@T0: received RequestVote RPC {Term:1 CandidateId:0 LastLogIndex:0 LastLogTerm:0}
001154 PERS S2 Follower@T1: persisted states and snapshot
001155 PERS S2 Follower@T1: persisted states and snapshot
001156 VOTE S2 Follower@T1: grant vote for candidate 0
001157 VOTE S0 Candidate@T1: convert to Leader
001157 LEAD S0 Leader@T1: sending AppendEntries RPC to peer 2
001160 LOG1 S2 Follower@T1: received AppendEntries RPC from S0 Leader@T1
001161 CLNT S0 Leader@T1: receive command 101, index=1
001162 PERS S0 Leader@T1: persisted states and snapshot
001162 TIMR S2 Follower@T1: election timer fires
001162 LOG1 S2 Follower@T1: convert to Candidate
001163 VOTE S2 Candidate@T2: start election for term 2
001164 LOG1 S1 Follower@T0: received RequestVote RPC {Term:2 CandidateId:2 LastLogIndex:0 LastLogTerm:0}
001165 PERS S1 Follower@T2: persisted states and snapshot
001165 PERS S1 Follower@T2: persisted states and snapshot
001166 VOTE S1 Follower@T2: grant vote for candidate 2
001168 VOTE S2 Candidate@T2: convert to Leader
001168 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
001171 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
001174 LOG1 S1 Follower@T2: received RequestVote RPC {Term:1 CandidateId:0 LastLogIndex:0 LastLogTerm:0}
001188 VOTE S1 Follower@T2: reject vote for candidate 0. Reason: my term higher.
001190 LOG1 S0 Leader@T2: convert to Follower
001190 PERS S0 Follower@T2: persisted states and snapshot
001193 LOG1 S0 Follower@T2: received RequestVote RPC {Term:2 CandidateId:2 LastLogIndex:0 LastLogTerm:0}
001193 VOTE S0 Follower@T2: reject vote for candidate 2. Reason: already voted or candidate log not up-to-date.
001193 VOTE S0 Follower@T2: candidate last log entry={idx=0,term=0}, my last log entry={idx=1,term=1}
001195 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
001198 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
001679 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
001696 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
001697 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
001701 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
002463 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
002466 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
002468 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
002470 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
002974 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
002977 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
002980 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
002988 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
003658 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
003661 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
003677 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
003680 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
004161 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
004164 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
004183 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
004187 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
004673 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
004676 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
004688 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
004691 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
005209 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
005212 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
005218 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
005220 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
005720 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
005722 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
005724 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
005726 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
006235 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
006237 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
006239 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
006240 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
006457 TIMR S2 Leader@T2: election timer fires
006772 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
006775 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
006777 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
006778 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
007280 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
007283 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
007284 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
007286 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
007790 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
007792 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
007794 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
007795 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
008300 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
008303 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
008304 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
008306 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
008804 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
008807 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
008808 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
008810 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
009315 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
009317 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
009318 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
009320 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
009816 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
009819 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
009821 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
009823 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
010322 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
010324 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
010326 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
010328 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
010824 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
010827 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
010829 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
010831 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
011335 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
011337 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
011339 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
011341 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
011842 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
011846 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
011847 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
011849 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
012349 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
012352 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
012353 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
012355 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
012855 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
012857 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
012859 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
012861 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
013396 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
013399 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
013400 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
013402 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
013903 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
013907 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
013909 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
013911 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
014422 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
014425 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
014429 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
014431 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
014925 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
014927 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
014940 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
014942 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
015427 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
015430 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
015443 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
015445 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
015928 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
015931 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
015948 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
015950 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
016137 TIMR S2 Leader@T2: election timer fires
016433 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
016436 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
016456 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
016459 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
016938 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
016941 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
016964 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
016967 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
017442 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
017445 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
017468 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
017470 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
017946 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
017949 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
017973 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
017976 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
018462 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
018465 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
018500 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
018503 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
018973 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
018975 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
019012 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
019015 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
019477 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
019479 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
019521 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
019523 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
019980 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
019982 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
020025 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
020027 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
020484 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
020487 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
020568 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
020570 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
021023 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 1
021026 LOG1 S1 Follower@T2: received AppendEntries RPC from S2 Leader@T2
021076 LEAD S2 Leader@T2: sending AppendEntries RPC to peer 0
021079 LOG1 S0 Follower@T2: received AppendEntries RPC from S2 Leader@T2
--- FAIL: TestLeaderFailure2B (2.12s)
    config.go:594: one(101) failed to reach agreement
FAIL
exit status 1
FAIL	6.5840/raft	2.324s
